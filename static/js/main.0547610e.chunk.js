(this["webpackJsonpmovie-search-app"]=this["webpackJsonpmovie-search-app"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var c,a=n(1),r=n.n(a),s=n(5),i=n.n(s),o=(n(10),n(2)),u=(n(11),n(3)),j={endpoint:"https://us-central1-develop-330906.cloudfunctions.net/api/omdbapi"},l=n(0),O={loading:!1,movies:[],errorMessage:""},d=r.a.createContext({});!function(e){e.SEARCH_MOVIES_REQUEST="SEARCH_MOVIES_REQUEST",e.SEARCH_MOVIES_SUCCESS="SEARCH_MOVIES_SUCCESS",e.SEARCH_MOVIES_FAILURE="SEARCH_MOVIES_FAILURE"}(c||(c={}));var S=function(e,t){switch(t.type){case c.SEARCH_MOVIES_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case c.SEARCH_MOVIES_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,movies:t.payload});case c.SEARCH_MOVIES_FAILURE:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,errorMessage:t.errorMessage});default:return e}},b=function(e){var t=Object(a.useReducer)(S,O),n=Object(u.a)(t,2),c=n[0],r=n[1];return Object(l.jsx)(d.Provider,{value:{state:c,dispatch:r},children:e.children})},E=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useContext)(d).dispatch,i=Object(a.useCallback)((function(e){s({type:c.SEARCH_MOVIES_REQUEST,loading:!0}),fetch("".concat(j.endpoint,"?s=").concat(e),{mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(e){"True"===e.Response?s({type:c.SEARCH_MOVIES_SUCCESS,payload:e.Search}):s({type:c.SEARCH_MOVIES_FAILURE,errorMessage:e.Error})}))}),[s]),o=Object(a.useCallback)((function(e){e.preventDefault(),i(n),r("")}),[i,n]),O=Object(a.useCallback)((function(e){r(e.target.value)}),[]);return Object(a.useEffect)((function(){i("SpiderMan")}),[i]),Object(a.useMemo)((function(){return Object(l.jsxs)("form",{className:"search",children:[Object(l.jsx)("input",{value:n,onChange:O,type:"text"}),Object(l.jsx)("input",{onClick:o,type:"submit",value:"SEARCH"})]})}),[o,O,n])},p=function(e){var t="N/A"===e.Poster?"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg":e.Poster;return Object(a.useMemo)((function(){return Object(l.jsxs)("div",{className:"movie",children:[Object(l.jsx)("h2",{children:e.Title}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{width:"200",alt:"The movie titled: ".concat(e.Title),src:t})}),Object(l.jsxs)("p",{children:["(",e.Year,")"]})]})}),[e.Title,e.Year,t])};var h=function(){var e=Object(a.useContext)(d).state,t=e.loading,n=e.errorMessage,c=e.movies;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(E,{}),Object(l.jsx)("p",{className:"App-intro",children:"Sharing a few of our favourite movies"}),Object(l.jsx)("div",{className:"movies",children:t&&!n?Object(l.jsx)("span",{children:"loading..."}):n?Object(l.jsx)("div",{className:"errorMessage",children:n}):c.map((function(e,t){return Object(l.jsx)(p,Object(o.a)({},e),"".concat(t))}))})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{children:Object(l.jsx)(h,{})})}),document.getElementById("root")),C()}},[[13,1,2]]]);
//# sourceMappingURL=main.0547610e.chunk.js.map